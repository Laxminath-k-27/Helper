<h2>hello</h2>

<p>add-helper works!</p>



<div class="custom-stepper-container" style="max-width: 600px; margin: auto; padding: 24px;">

  <mat-stepper orientation="vertical" [linear]="true" #stepper>
    <mat-step label="Your Name"></mat-step>
    <mat-step label="Your Address"></mat-step>
    <mat-step label="Done"></mat-step>
  </mat-stepper>

  <div class="stepper-content" style="margin-top: 20px;">
    <div [ngSwitch]="stepper.selectedIndex">

      <div *ngSwitchCase="0">
        <form [formGroup]="firstFormGroup">

            <mat-form-field appearance="outline">
                <mat-label>Type of Service</mat-label>
                <mat-select formControlName="services" multiple (selectionChange)="onSelectionChange($event)">
                    <!-- <mat-select-trigger>
                        {{serviceVal?.value?.[0] || ''}}
                        @if ((serviceVal?.value?.length || 0) > 1) {
                            <span class="example-additional-selection">
                            (+{{(serviceVal?.value?.length || 0) - 1}})
                            </span>
                        }
                    </mat-select-trigger> -->
                    
                        <mat-checkbox [checked]="isAllSelected()" [indeterminate]="isIndeterminate()" (change)="toggleSelectAllCheckbox($event)">
                            Select All
                        </mat-checkbox>
                    
                    <mat-option *ngFor="let topping of servicesList" [value]="topping">
                        {{ topping }}
                    </mat-option>
                </mat-select>
            </mat-form-field>

            <mat-form-field appearance="outline" style="width: 100%;">
              <mat-label>Organization</mat-label>
              <mat-select formControlName="organization">
                <mat-option value="ASBL">ASBL</mat-option>
                <mat-option value="Spring Helpers">Spring Helpers</mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field appearance="outline" style="width: 100%;">
                <mat-label>Full Name</mat-label>
                <input matInput placeholder="Last name, First name" formControlName="fullName">
                @if (firstFormGroup.get("fullName")?.invalid){
                    <mat-error>Enter valid Full Name</mat-error>
                }
            </mat-form-field>

            <mat-form-field appearance="outline" style="width: 100%;">
              <mat-label>Languages</mat-label>
              <mat-select formControlName="languages" multiple (selectionChange)="onLanguageSelectionChange($event)">
                  <mat-checkbox
                    [checked]="areAllLanguagesSelected()"
                    [indeterminate]="areLanguagesIndeterminate()"
                    (change)="toggleSelectAllLanguages($event)">
                    Select All
                  </mat-checkbox>
                <mat-option *ngFor="let lang of languagesList" [value]="lang">
                  {{ lang }}
                </mat-option>
              </mat-select>
            </mat-form-field>


            <mat-form-field appearance="outline" style="width: 100%;">
                <mat-label>Email</mat-label>
                <input matInput placeholder="Last name, First name" formControlName="email">
                @if (firstFormGroup.get("email")?.invalid){
                    <mat-error>Enter valid Email</mat-error>
                }
            </mat-form-field>

            

            <div style="margin-top: 16px;">
                <button mat-raised-button color="primary" 
                        (click)="firstFormGroup.valid && stepper.next()" 
                        [disabled]="firstFormGroup.invalid">
                Next
                </button>
            </div>

        </form>
      </div>

      <div *ngSwitchCase="1">
        <form [formGroup]="secondFormGroup">
          <h2>Fill out your address</h2>
          <mat-form-field appearance="fill" style="width: 100%;">
            <mat-label>Address</mat-label>
            <input matInput formControlName="secondCtrl" placeholder="Ex. 1 Main St, New York, NY" required>
          </mat-form-field>
          <div style="margin-top: 16px;">
            <button mat-button (click)="stepper.previous()">Back</button>
            <button mat-raised-button color="primary" 
                    (click)="secondFormGroup.valid && stepper.next()" 
                    [disabled]="!secondFormGroup.valid">
              Next
            </button>
          </div>
        </form>
      </div>

      <div *ngSwitchCase="2">
        <h2>Done! ðŸŽ‰</h2>
        <p>You have completed all the steps.</p>
        <div style="margin-top: 16px;">
          <button mat-button (click)="stepper.previous()">Back</button>
          <button mat-raised-button color="accent" (click)="stepper.reset()">Reset</button>
        </div>
      </div>

    </div>
  </div>
</div>
